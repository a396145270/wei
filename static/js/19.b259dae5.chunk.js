(this["webpackJsonpantd-demo"]=this["webpackJsonpantd-demo"]||[]).push([[19],{671:function(e,t,a){"use strict";a.r(t);a(430);var n=a(432),c=(a(94),a(38)),o=(a(388),a(400)),i=a(381),r=a(0),l=a.n(r),s=a(654),u=a.n(s);a(655),a(656),a(657);t.default=function(){var e=Object(r.useRef)(null),t=Object(r.useState)(!1),a=Object(i.a)(t,2),s=a[0],d=a[1],b=Object(r.useState)(),f=Object(i.a)(b,2),m=f[0],p=f[1];Object(r.useEffect)((function(){if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){o.a.success("\u6388\u6743\u6210\u529f\uff01")}),(function(){o.a.error("\u6388\u6743\u5931\u8d25\uff01")}))}else o.a.error("\u6d4f\u89c8\u5668\u4e0d\u652f\u6301 getUserMedia");console.log("set"),p(u()({type:"mp3",sampleRate:16e3,bitRate:16,onProcess:function(e,t,a,n,c,o){}}))}),[]);var v=Object(r.useCallback)((function(e){m.open((function(){e&&e()}),(function(e,t){console.log((t?"UserNotAllow\uff0c":"")+"\u65e0\u6cd5\u5f55\u97f3:"+e)}))}),[m]),g=Object(r.useCallback)((function(){m.start(),d(!0)}),[m]),j=Object(r.useCallback)((function(){m.stop((function(t,a){var n;console.log(t,(window.URL||webkitURL).createObjectURL(t),"\u65f6\u957f:"+a+"ms"),m.close(),d(!1);var c=document.createElement("audio");c.controls=!0,null===(n=e.current)||void 0===n||n.appendChild(c),c.src=(window.URL||webkitURL).createObjectURL(t),c.play()}),(function(e){console.log("\u5f55\u97f3\u5931\u8d25:"+e),m.close(),d(!1)}))}),[m]);return l.a.createElement("div",{style:{textAlign:"center",marginTop:40}},l.a.createElement(c.a,{disabled:s,type:"primary",onClick:function(){v((function(){g()}))}},s?"\u5f55\u97f3\u4e2d...":"\u5f00\u59cb\u5f55\u97f3"),l.a.createElement(n.a,{type:"vertical"}),l.a.createElement(c.a,{disabled:!s,type:"primary",onClick:j},"\u505c\u6b62"),l.a.createElement(n.a,null),l.a.createElement("div",{ref:e}))}}}]);