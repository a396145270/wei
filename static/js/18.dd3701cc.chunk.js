(this["webpackJsonpantd-demo"]=this["webpackJsonpantd-demo"]||[]).push([[18],{672:function(e,t,n){"use strict";n.r(t);var a=n(533),i=n.n(a),r=n(381),o=n(0),c=n.n(o),l=n(534),s=n(444),d=n(130),p=n.n(d);t.default=function(){var e,t=Object(o.useRef)(null),n=Object(o.useState)(0),a=Object(r.a)(n,2),d=a[0],u=a[1],h=Object(o.useCallback)((function(e){var t;return i.a.async((function(n){for(;;)switch(n.prev=n.next){case 0:return t=e.layer(),n.next=3,i.a.awrap(e.preload(s.b.url));case 3:n.sent.forEach((function(e,n,a){var i=new l.Sprite;i.attr({texture:e,size:[600*window.devicePixelRatio,a[n].height*window.devicePixelRatio*600/a[n].width]}),t.append(i)})),m(t);case 6:case"end":return n.stop()}}))}),[]);function m(e){var t=600*window.devicePixelRatio/s.b.pageImageWidth;s.b.points.forEach((function(n,a){var i=[parseFloat((n.pointList.match(/left:([\d\\.]+)/)||["","1"])[1])*t,parseFloat((n.pointList.match(/top:([\d\\.]+)/)||["","1"])[1])*t,parseFloat((n.pointList.match(/width:([\d\\.]+)/)||["","1"])[1])*t,parseFloat((n.pointList.match(/height:([\d\\.]+)/)||["","1"])[1])*t],r=new l.Sprite({anchor:[0,0],pos:[i[0],i[1]],size:[i[2],i[3]],zIndex:1,borderRadius:4,borderColor:"transparent",borderWidth:1}),o=new l.Label(n.mainTitle);o.attr({pos:[i[0]+i[2],i[1]],fillColor:"#369",bgcolor:"#ecc",fontSize:20*window.devicePixelRatio+"px",fontFamily:"\u9ed1\u4f53",padding:"6px",zIndex:2,opacity:0}),e.append(o);var c=null;r.addEventListener("mouseenter",(function(e){c&&c.cancel(),(c=r.transition(.3)).attr({bgcolor:"rgba(155,0,0,0.2)"}),o.attr("opacity",1)})),r.addEventListener("mouseleave",(function(e){c.attr({bgcolor:"transparent"}),o.attr("opacity",0)})),r.addEventListener("mouseup",(function(e){c.attr({bgcolor:"rgba(155,0,0,0.2)",borderColor:"transparent"})})),r.addEventListener("mousedown",(function(e){c.attr({bgcolor:"rgba(255,0,0,0.3)",borderColor:"#eee"}),o.attr("opacity",0),u(a)})),e.append(r)}))}return Object(o.useEffect)((function(){var e=document.querySelector("#stage"),t=new l.Scene({container:e,width:1200*window.devicePixelRatio,height:600*s.b.pageImageHeight/s.b.pageImageWidth*devicePixelRatio,mode:"stickyTop"});h(t)}),[h]),c.a.createElement("div",{style:{position:"relative",height:"calc(100vh - 60px)"},onMouseMove:function(e){e.clientX-function(e){for(var t={x:0,y:0},n=e;n;)t.x+=n.offsetLeft,t.y+=n.offsetTop,n=n.offsetParent&&n.offsetParent;for(n=e;n&&n!==document.body;)t.y-=n.scrollTop,t.x-=n.scrollLeft,n=n.parentElement;return t}(e.currentTarget).x>600?t.current&&"3"!==t.current.style.zIndex&&(t.current.style.zIndex="3"):t.current&&"1"!==t.current.style.zIndex&&(t.current.style.zIndex="1")}},c.a.createElement(p.a,{style:{height:"100%",zIndex:2},autoHide:!0},c.a.createElement("div",{id:"stage",style:{width:1200,height:600*s.b.pageImageHeight/s.b.pageImageWidth}})),c.a.createElement("div",{ref:t,style:{position:"absolute",top:0,bottom:0,width:592,height:"calc(100vh - 60px)",left:600,backgroundColor:"#dfefff",zIndex:1}},c.a.createElement(p.a,{style:{height:"100%"},autoHide:!0},c.a.createElement("article",{style:{padding:20,lineHeight:"1.8em"}},c.a.createElement("h3",{style:{textAlign:"center"}},s.b.points[d].headTitle),c.a.createElement("h2",{style:{textAlign:"center"}},s.b.points[d].mainTitle),c.a.createElement("h3",{style:{textAlign:"center"}},s.b.points[d].sideTitle),c.a.createElement("hr",null),null===(e=s.b.points[d].imageList)||void 0===e?void 0:e.map((function(e,t){return c.a.createElement("div",{key:t},c.a.createElement("img",{style:{width:500,margin:30},src:s.b.baseUrl+e.imageSha1,alt:e.mainContent}))})),s.b.points[d].mainContent.split("\n").map((function(e,t){return c.a.createElement("p",{key:t,style:{textIndent:"2em"}},e)}))))))}}}]);